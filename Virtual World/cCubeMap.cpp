#include "cCubeMap.h"
#include "core.h"
#include "cTGAImg.h"
#include "helper.h"
#include "cTexture.h"

//////////////////////////////////////////////////////////////////////////////////////////
// cCubeMap() - constructor
//////////////////////////////////////////////////////////////////////////////////////////
cCubeMap::cCubeMap()
{
	m_tex = NULL;
}


//////////////////////////////////////////////////////////////////////////////////////////
// ~cCubeMap() - destructor
//////////////////////////////////////////////////////////////////////////////////////////
cCubeMap::~cCubeMap()
{
	if (m_tex)
	{
		for (int i = 0; i < 6; i++)
		{
			delete[] m_tex[i];
			m_tex[i] = NULL;
		}
	}
}


//////////////////////////////////////////////////////////////////////////////////////////
// Init() - 
//////////////////////////////////////////////////////////////////////////////////////////
void cCubeMap::Init()
{
	glGenTextures(1, &m_Cubemap);
	glBindTexture(GL_TEXTURE_CUBE_MAP, m_Cubemap);

	// load in all textures for this environment map here..
	if (m_tex)
	{
		for (int i = 0; i < 6; i++)
		{
			cTexture::LoadCubeMapTGA(m_tex[i], i);
		}
	}
}

